<!-- FullCalendar JS -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>

<script>
  $(document).ready(function () {
    function checkBookingUpdate() {
      console.log('Checking booking updates')
      $.ajax({
        url: "{% url 'check_booking_update' %}",
        type: 'GET',
        success: function (response) {
          if (response.updated) {
            console.log('Booking updates detected')
            //updateCalendarEvents()
            window.location.reload()
          }
        },
        error: function (xhr, status, error) {
          console.error('Error checking booking updates:', error)
        }
      })
    }
  
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏∏‡∏Å‡πÜ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    setInterval(checkBookingUpdate, 5000)
  })
</script>


<script>
  function updateDateTime() {
    const now = new Date();
    const options = { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit' };
    const formattedDateTime = now.toLocaleDateString('th-TH', options).replace(',', ' üïí');
    document.getElementById("currentDateTime").textContent = formattedDateTime;
  }

  updateDateTime(); // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
  setInterval(updateDateTime, 1000); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
</script>
